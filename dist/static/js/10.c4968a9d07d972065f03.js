webpackJsonp([10],{Lr6H:function(t,e,a){t.exports=a.p+"static/img/bg.3df8855.jpg"},gdBO:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("QAqB"),i=a("Bs21"),n=a("hrok"),r=a("CFbC"),c=a("Q6dk"),o=a("ada0"),h=a("viA7"),g=a("M9A7"),l=a("iNxE"),u={name:"searchpage",created:function(){console.log(this.$route.params),this.searchcontent=this.$route.params.searchcontent,this.searchtags=this.$route.params.searchtags,this.userid=this.$store.state.id,console.log(this.userid),this.getArtices(),this.getUserInfo(),this.getHotTags()},data:function(){return{searchcontent:"",searchtags:[],backgroundImgUrl:a("Lr6H"),hotTags:[],articleshow:[],articles:[],userInfo:{},userid:0,pageint:1,perpage:5,inputC:"",tagtitle:"HOT TAGS",dynamicTags:[],inputVisible:!1,inputValue:"",total:0}},methods:{handleClose:function(t){this.dynamicTags.splice(this.dynamicTags.indexOf(t),1)},showInput:function(){var t=this;this.inputVisible=!0,this.$nextTick(function(e){t.$refs.saveTagInput.$refs.input.focus()})},handleInputConfirm:function(){var t=this.inputValue;t&&this.dynamicTags.push(t),this.inputVisible=!1,this.inputValue=""},search:function(){var t=this.dynamicTags,e=this.inputC;this.$router.push({name:"searchpage",params:{searchtags:t,searchcontent:e}})},getUserInfo:function(){var t=this;t.userid<0||Object(g.b)(t.userid).then(function(e){t.userInfo=e.content}).catch(function(e){"error"!==e&&t.$message({type:"error",message:"用户信息加载失败!",showClose:!0})})},handleSizeChange:function(t){},handleCurrentChange:function(t){this.pageint=t,this.getArticesInPage(t)},getArticesInPage:function(t){if(void 0!==this.articles){console.log("deal show");var e=[],a=this.perpage*t;a>this.articles.length&&(a=this.articles.length);for(var s=this.perpage*(t-1);s<a;s+=1)e.push(this.articles[s]);this.articleshow=e}},getArtices:function(){var t=this;Object(h.a)(t.searchtags,t.searchcontent).then(function(e){0==e.code?(t.articles=e.content,t.total=e.content.length,t.pageint=1,t.getArticesInPage(1)):t.$message({type:"error",message:e.reason,showClose:!0})}).catch(function(e){"error"!==e&&t.$message({type:"error",message:"搜索文章加载失败!",showClose:!0})})},getHotTags:function(){var t=this;Object(l.c)().then(function(e){t.hotTags=e.content}).catch(function(e){"error"!==e&&t.$message({type:"error",message:"最热标签加载失败!",showClose:!0})})}},components:{"card-me":s.a,"card-article":i.a,"card-tag":r.a,ArticleScrollPage:c.a,CardArchive:n.a,"article-item":o.a}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-main",{staticClass:"me-articles"},[t._l(t.articleshow,function(e){return a("div",{key:e.id,staticStyle:{width:"90%","margin-left":"5%"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("article-item",t._b({staticStyle:{"margin-top":"1%"}},"article-item",e,!1))],1)],1)],1)}),t._v(" "),a("div",{staticClass:"block",staticStyle:{"margin-left":"32%",bottom:"2%",position:"absolute","background-color":"#FFEFD5"}},[a("el-pagination",{attrs:{"current-page":t.pageint,"page-size":t.perpage,layout:"prev, pager, next, jumper",total:this.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.pageint=e},"update:current-page":function(e){t.pageint=e}}})],1)],2),t._v(" "),a("el-aside",[a("div",{staticStyle:{position:"absolute",width:"18%",height:"320px"}},[a("card-me",{staticClass:"me-area",staticStyle:{height:"100%"},attrs:{userinfo:t.userInfo}})],1),t._v(" "),a("div",{staticStyle:{"margin-top":"300px",position:"absolute",width:"18%",height:"280px"}},[a("card-tag",{staticClass:"me-tags",staticStyle:{height:"100%"},attrs:{tags:t.hotTags,title:t.tagtitle}})],1)])],1)},staticRenderFns:[]};var d=a("VU/8")(u,p,!1,function(t){a("wm5k")},"data-v-1a10e662",null);e.default=d.exports},wm5k:function(t,e){}});
//# sourceMappingURL=10.c4968a9d07d972065f03.js.map